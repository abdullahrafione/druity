@model List<OnlineShop.Models.Product>

@{
    var featuredProducts = Model.Where(x => x.ProductStock.Any(y => y.IsFeatured)).ToList();
    var onSaleProducts = Model.Where(x => x.ProductStock.Any(y => y.OnSale)).ToList();
    var topRatedProducts = Model.Where(x => x.ProductStock.Any(y => y.TopRated)).ToList();
}

<div class="container">
    <ul class="nav nav-pills nav-border-anim nav-big justify-content-center mb-3" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="products-featured-link" data-toggle="tab" href="#products-featured-tab" role="tab" aria-controls="products-featured-tab" aria-selected="true">Featured</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="products-sale-link" data-toggle="tab" href="#products-sale-tab" role="tab" aria-controls="products-sale-tab" aria-selected="false">On Sale</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="products-top-link" data-toggle="tab" href="#products-top-tab" role="tab" aria-controls="products-top-tab" aria-selected="false">Top Rated</a>
        </li>
    </ul>
</div><!-- End .container -->
<div class="container-fluid">
    <div class="tab-content tab-content-carousel">

        <div class="tab-pane p-0 fade show active" id="products-featured-tab" role="tabpanel" aria-labelledby="products-featured-link">

            @if (featuredProducts.Any())
            {
                <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl"
                     data-owl-options='{
                                "nav": false,
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                    @foreach (var item in featuredProducts)
                    {
                        <div class="product product-11 text-center">
                            <figure class="product-media">
                                <a href="@Url.Action("detail","product",new {id = item.ProductId })">
                                    <img src="@item.Image.FirstOrDefault().Url" alt="Product image" class="product-image">
                                </a>
                                <div class="product-action-vertical">
                                        <a href="#" class="btn-product-icon btn-wishlist"><span>add to wishlist</span></a>
                                    </div>
                            </figure><!-- End .product-media -->
                            <div class="product-body">
                                <h3 class="product-title"><a href="@Url.Action("detail","product",new {id = item.ProductId })">@item.Name</a></h3><!-- End .product-title -->
                                <div class="product-price">
                                    @item.ProductStock.FirstOrDefault().CurrentPrice @item.ProductStock.FirstOrDefault().CurrencySymbol
                                </div><!-- End .product-price -->
                            </div><!-- End .product-body -->
                            <div class="product-action">
                                    <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                </div><!-- End .product-action -->
                        </div><!-- End .product -->
                    }
                </div><!-- End .owl-carousel -->
            }
        </div><!-- .End .tab-pane -->

        <div class="tab-pane p-0 fade" id="products-sale-tab" role="tabpanel" aria-labelledby="products-sale-link">
            @if (onSaleProducts.Any())
            {
                <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl"
                     data-owl-options='{
                                "nav": false,
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                    @foreach (var item in onSaleProducts)
                    {
                        <div class="product product-11 text-center">
                            <figure class="product-media">
                                <a href="@Url.Action("detail","product",new {id = item.ProductId })">
                                    <img src="@item.Image.FirstOrDefault().Url" alt="Product image" class="product-image">
                                </a>
                                @*<div class="product-action-vertical">
                                        <a href="#" class="btn-product-icon btn-wishlist"><span>add to wishlist</span></a>
                                    </div>*@<!-- End .product-action-vertical -->
                            </figure><!-- End .product-media -->
                            <div class="product-body">
                                <h3 class="product-title"><a href="@Url.Action("detail","product",new {id = item.ProductId })">@item.Name</a></h3><!-- End .product-title -->
                                <div class="product-price">
                                    @item.ProductStock.FirstOrDefault().CurrentPrice @item.ProductStock.FirstOrDefault().CurrencySymbol
                                </div><!-- End .product-price -->
                            </div><!-- End .product-body -->
                            @*<div class="product-action">
                                    <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                </div>*@<!-- End .product-action -->
                        </div><!-- End .product -->
                    }
                </div><!-- End .owl-carousel -->
            }
        </div><!-- .End .tab-pane -->

        <div class="tab-pane p-0 fade" id="products-top-tab" role="tabpanel" aria-labelledby="products-top-link">
            @if (topRatedProducts.Any())
            {
                <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow" data-toggle="owl"
                     data-owl-options='{
                                "nav": false,
                                "dots": true,
                                "margin": 20,
                                "loop": false,
                                "responsive": {
                                    "0": {
                                        "items":2
                                    },
                                    "480": {
                                        "items":2
                                    },
                                    "768": {
                                        "items":3
                                    },
                                    "992": {
                                        "items":4
                                    },
                                    "1200": {
                                        "items":5
                                    },
                                    "1600": {
                                        "items":6,
                                        "nav": true
                                    }
                                }
                            }'>
                    @foreach (var item in topRatedProducts)
                    {
                        <div class="product product-11 text-center">
                            <figure class="product-media">
                                <a href="@Url.Action("detail","product",new {id = item.ProductId })">
                                    <img src="@item.Image.FirstOrDefault().Url" alt="Product image" class="product-image">
                                </a>
                                @*<div class="product-action-vertical">
                                        <a href="#" class="btn-product-icon btn-wishlist"><span>add to wishlist</span></a>
                                    </div>*@<!-- End .product-action-vertical -->
                            </figure><!-- End .product-media -->
                            <div class="product-body">
                                <h3 class="product-title"><a href="@Url.Action("detail","product",new {id = item.ProductId })">@item.Name</a></h3><!-- End .product-title -->
                                <div class="product-price">
                                    @item.ProductStock.FirstOrDefault().CurrentPrice @item.ProductStock.FirstOrDefault().CurrencySymbol
                                </div><!-- End .product-price -->
                            </div><!-- End .product-body -->
                            @*<div class="product-action">
                                    <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                </div>*@<!-- End .product-action -->
                        </div><!-- End .product -->
                    }
                </div><!-- End .owl-carousel -->

            }
        </div><!-- .End .tab-pane -->

    </div><!-- End .tab-content -->
</div><!-- End .container-fluid -->