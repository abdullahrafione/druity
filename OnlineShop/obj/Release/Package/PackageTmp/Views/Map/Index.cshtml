
@{
    ViewBag.Title = "Index";
}

<div id="map"></div>
<script>
    var themap;(function initMap() {const myLatLng = { lat: -25.363, lng: 131.044 };  themap = new google.maps.Map(document.getElementById('map'), {    center: myLatLng,    zoom: 8  });	var shiftdown = false;	var gribBoundingBox = null;	var boxcomplete = false;	$(window).keydown(function (evt) {		if (evt.which === 16) { // shift			shiftdown = true;		}	}).keyup(function (evt) {		if (evt.which === 16) { // shift			shiftdown = false;		}	});	function cleargribBoundingBox(){		if(gribBoundingBox !== null){			gribBoundingBox.setMap(null); // remove the rectangle		}		boxcomplete = false;	}	google.maps.event.addListener(themap, 'mousedown', function (e) {		if (shiftdown) {			themap.setOptions({				draggable: false			});			cleargribBoundingBox();			gribBoundingBox = new google.maps.Rectangle({				map: themap,				bounds: new google.maps.LatLngBounds(e.latLng,e.latLng),				fillOpacity: 0.15,				strokeWeight: 0.9,				clickable: false			});		}	});	google.maps.event.addListener(themap, 'mousemove', function (e) {		if(gribBoundingBox !== null){			if(!boxcomplete){				//moving mouse accross map, box is in process of being drawn				//lets update its bounds				gribBoundingBox.setBounds(gribBoundingBox.getBounds().extend(e.latLng));			} else{				//moving mouse accross map, box is present			}		} else {			//moving mouse over map, no bounding box present			//either no bounding box has been made yet or we are not holding shift and we are just dragging the map around		}	});	google.maps.event.addListener(themap, 'mouseup', function (e) {		if(gribBoundingBox !== null){ //we just completed a box			boxcomplete = true;			themap.setOptions({				draggable: true			});			//check if markers are in the box			/*var boundsSelectionArea = new google.maps.LatLngBounds(				gribBoundingBox.getBounds().getSouthWest(),				gribBoundingBox.getBounds().getNorthEast()			);*/		}	});  }());
</script>
